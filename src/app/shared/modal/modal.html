<div
  class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70"
  (click)="onClose()"
>
  <div
    class="relative max-w-3xl w-full bg-white rounded-xl"
    (click)="$event.stopPropagation()"
  >
    <header class="flex items-center justify-between px-6 py-4 border-b">
      <h2 class="text-lg font-bold text-[#121416]">{{title()}}</h2>
      <button
        class="text-[#121416] bg-[#f1f2f4] rounded-full p-2 hover:bg-opacity-80"
        (click)="onClose()"
        aria-label="Cerrar"
      >
        âœ•
      </button>
    </header>
    <div class="flex flex-col items-center p-6">
      <img
        [src]="activeImage()"
        class="rounded-xl w-full max-h-[60vh] object-contain mb-4"
        alt="Imagen principal"
      />
      <div
        class="grid grid-cols-[repeat(auto-fit,minmax(80px,1fr))] gap-3 w-full"
      >
        @for (img of images(); track $index) {
        <button class="focus:outline-none" (click)="onSelect(img)">
          <img
            [src]="img"
            [class.border-2]="img === activeImage()"
            [class.border-blue-500]="img === activeImage()"
            class="rounded-xl w-full aspect-square object-cover transition-all"
            alt="Miniatura"
          />
        </button>
        }
      </div>
    </div>
  </div>
</div>
